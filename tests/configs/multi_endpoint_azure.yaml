# Multi-endpoint configuration for az:// (Azure Blob Storage) protocol
# Use case: Multiple Azure Storage account endpoints for load distribution

multi_endpoint:
  strategy: round_robin
  endpoints:
    - az://storageacct1.blob.core.windows.net/container/
    - az://storageacct2.blob.core.windows.net/container/
    - az://storageacct3.blob.core.windows.net/container/

duration: 60s
concurrency: 24

prepare:
  ensure_objects:
    - base_uri: "testdata/"  # Path component only
      use_multi_endpoint: true  # Objects created across all 3 Azure storage accounts
      count: 150
      min_size: 1048576
      max_size: 1048576
      fill: random
  cleanup: true

workload:
  - op: get
    path: "testdata/*"
    weight: 60
  
  - op: put
    path: "testdata/"
    object_size: 1048576
    weight: 40
